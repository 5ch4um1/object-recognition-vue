(function(e){function t(t){for(var n,r,o=t[0],s=t[1],l=t[2],d=0,v=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&v.push(i[r][0]),i[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(v.length)v.shift()();return c.push.apply(c,l||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],n=!0,o=1;o<a.length;o++){var s=a[o];0!==i[s]&&(n=!1)}n&&(c.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},i={app:0},c=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=s;c.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},1:function(e,t){},2:function(e,t){},3:function(e,t){},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),i=a.n(n);i.a},"70aa":function(e,t,a){},"73be":function(e,t,a){},"9c0c":function(e,t,a){},b7ef:function(e,t,a){"use strict";var n=a("73be"),i=a.n(n);i.a},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center pt-5",attrs:{id:"app"}},[n("img",{attrs:{alt:"Vue logo",src:a("cf05")}}),n("h1",[e._v("Object recognition")]),e.loaded?e._e():n("div",{staticClass:"loading"},[e._m(0),n("div",{staticClass:"lds-text"},[e._v("Loading tensorflow.js")])]),e.loaded?n("div",{staticClass:"text-center"},[n("ul",{staticClass:"nav nav-pills w-25 my-3 mx-auto"},[n("li",{staticClass:"nav-item mx-auto",on:{click:function(t){return e.setMode("image")}}},[n("a",{staticClass:"nav-link",class:{active:"image"===e.mode}},[e._v("From Image")])]),n("li",{staticClass:"nav-item mx-auto",on:{click:function(t){return e.setMode("camera")}}},[n("a",{staticClass:"nav-link",class:{active:"camera"===e.mode}},[e._v("Webcam")])])]),"camera"===e.mode?n("div",[n("Camera",{attrs:{model:e.model}})],1):e._e(),"image"===e.mode?n("div",[n("ImageUpload",{attrs:{model:e.model}})],1):e._e()]):e._e()])},c=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lds-facebook"},[a("div"),a("div"),a("div")])}],r=(a("d3b7"),a("96cf"),a("d4ec")),o=a("bee2"),s=a("99de"),l=a("7e84"),u=a("262e"),d=a("9ab4"),v=a("60a3"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"video-player"},[a("video",{ref:"video"}),a("canvas",{ref:"canvas",attrs:{width:"640",height:"480"}})]),a("h6",[e._v(e._s(e.predictions))])])},p=[],h=(a("a15b"),a("d81d"),a("e25e"),a("159b"),function(){function e(){Object(r["a"])(this,e)}return Object(o["a"])(e,[{key:"render",value:function(e,t){var a="#41b883",n="16px sans-serif";t.font=n,t.textBaseline="top",e.forEach((function(e){var i=e.bbox[0],c=e.bbox[1],r=e.bbox[2],o=e.bbox[3];t.strokeStyle=a,t.lineWidth=4,t.strokeRect(i,c,r,o),t.fillStyle=a;var s=t.measureText(e.class).width,l=parseInt(n,10);t.fillRect(i,c,s+4,l+4)})),e.forEach((function(e){var a=e.bbox[0],n=e.bbox[1];t.fillStyle="#000000",t.fillText(e.class,a,n)}))}}]),e}()),m=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(s["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.predictions="...",e.predictionRenderer=new h,e}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"created",value:function(){this.webcam_init()}},{key:"webcam_init",value:function(){var e=this;navigator.mediaDevices.getUserMedia({video:!0}).then((function(t){e.video=e.$refs.video,e.canvas=e.$refs.canvas,e.video.srcObject=t,e.video.onloadedmetadata=function(){e.video.play();var t=e.canvas.getContext("2d");e.detectFrame(e.video,e.model,t)}}))}},{key:"detectFrame",value:function(e,t,a){var n=this;t.detect(e).then((function(i){a.clearRect(0,0,a.canvas.width,a.canvas.height),n.predictionRenderer.render(i,a),n.predictions=i.map((function(e){return e.class})).join(", ")||"...",requestAnimationFrame((function(){n.detectFrame(e,t,a)}))}))}}]),t}(v["c"]);d["a"]([Object(v["b"])()],m.prototype,"model",void 0),m=d["a"]([v["a"]],m);var b=m,g=b,y=(a("b7ef"),a("2877")),j=Object(y["a"])(g,f,p,!1,null,"003d9ce6",null),w=j.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"my-5"},[a("canvas",{ref:"canvas",attrs:{width:"240",height:"120"}}),a("image-uploader",{attrs:{preview:!0,className:["fileinput",{"fileinput--loaded":e.hasImage}],capture:"environment",debug:1,doNotResize:"gif",autoRotate:!0,outputFormat:"verbose"},on:{input:e.setImage}},[a("label",{staticClass:"upload-label",attrs:{slot:"upload-label",for:"fileInput"},slot:"upload-label"},[a("figure",[a("svg",{staticClass:"upload-icon mt-5",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"}},[a("path",{staticClass:"path1",attrs:{d:"M9.5 19c0 3.59 2.91 6.5 6.5 6.5s6.5-2.91 6.5-6.5-2.91-6.5-6.5-6.5-6.5 2.91-6.5 6.5zM30 8h-7c-0.5-2-1-4-3-4h-8c-2 0-2.5 2-3 4h-7c-1.1 0-2 0.9-2 2v18c0 1.1 0.9 2 2 2h28c1.1 0 2-0.9 2-2v-18c0-1.1-0.9-2-2-2zM16 27.875c-4.902 0-8.875-3.973-8.875-8.875s3.973-8.875 8.875-8.875c4.902 0 8.875 3.973 8.875 8.875s-3.973 8.875-8.875 8.875zM30 14h-4v-2h4v2z"}})])]),a("span",{staticClass:"upload-caption"},[e._v(e._s(e.hasImage?"Replace":"Click to upload"))])])])],1)])},x=[],_=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(s["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.hasImage=!1,e.image=null,e}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"setImage",value:function(e){var t=this;this.hasImage=!0,this.image=e,this.canvas=this.$refs.canvas;var a=this.canvas.getContext("2d"),n=new Image;n.onload=function(e){a.clearRect(0,0,a.canvas.width,a.canvas.height),a.canvas.width=Math.min(800,e.path[0].width),a.canvas.height=Math.min(600,e.path[0].height),a.drawImage(n,0,0),t.model.detect(t.canvas).then((function(e){(new h).render(e,a)}))},n.src=e.dataUrl}}]),t}(v["c"]);d["a"]([Object(v["b"])()],_.prototype,"model",void 0),_=d["a"]([v["a"]],_);var C=_,k=C,M=(a("fdf5"),Object(y["a"])(k,O,x,!1,null,null,null)),I=M.exports,R=a("c317"),S=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(s["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.loaded=!1,e.mode="image",e}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"mounted",value:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(R["a"]());case 2:this.model=e.sent,this.loaded=!0;case 4:case"end":return e.stop()}}),null,this)}},{key:"setMode",value:function(e){this.mode=e}}]),t}(v["c"]);S=d["a"]([Object(v["a"])({components:{Camera:w,ImageUpload:I}})],S);var $=S,P=$,E=(a("5c0b"),Object(y["a"])(P,i,c,!1,null,null,null)),F=E.exports,z=a("e3c4"),T=a.n(z);n["a"].config.productionTip=!1,n["a"].use(T.a),new n["a"]({render:function(e){return e(F)}}).$mount("#app")},cf05:function(e,t,a){e.exports=a.p+"img/logo.82b9c7a5.png"},fdf5:function(e,t,a){"use strict";var n=a("70aa"),i=a.n(n);i.a}});